

===== D:\BSUIR\Diploma\OwlReads-project\server-OwlReads\app\main.py =====

# app/main.py
from fastapi import FastAPI
from fastapi.middleware.cors import CORSMiddleware
from app.api import (
    popular_quotes,
    genre,
    literature,
    users_book_notes,
    users_book_quotes,
    users_reading_records,
    users_book_rating,
    users_top_characters,
    users_challenge_books_alphabet,
    users_challenge_book_of_year,
    users_challenges,
    users_statistics,
    users_personal_data,
    users_book_review_genres,
    books_categories,
    users_book_review,
    auth,
)

app = FastAPI(title="OwlReads API")

app.add_middleware(
    CORSMiddleware,
    allow_origins=["*"],
    allow_credentials=True,
    allow_methods=["*"],
    allow_headers=["*"],
)

# Единообразие: каждый сегмент — ровно один раз
app.include_router(popular_quotes.router, prefix="/api/quotes", tags=["quotes"])
app.include_router(genre.router,             prefix="/api/genres", tags=["genres"])
app.include_router(literature.router,        prefix="/api/literature", tags=["literature"])

app.include_router(users_book_notes.router,          prefix="/api/users_book_notes", tags=["users_book_notes"])
app.include_router(users_book_quotes.router,         prefix="/api/users_book_quotes", tags=["users_book_quotes"])
app.include_router(users_reading_records.router,     prefix="/api/users_reading_records", tags=["users_reading_records"])
app.include_router(users_book_rating.router,         prefix="/api/users_book_rating", tags=["users_book_rating"])
app.include_router(users_top_characters.router,      prefix="/api/users_top_characters", tags=["users_top_characters"])
app.include_router(users_challenge_books_alphabet.router, prefix="/api/users_challenge_books_alphabet", tags=["users_challenge_books_alphabet"])
app.include_router(users_challenge_book_of_year.router,   prefix="/api/users_challenge_book_of_year", tags=["users_challenge_book_of_year"])
app.include_router(users_challenges.router,          prefix="/api/users_challenges", tags=["users_challenges"])
app.include_router(users_statistics.router,          prefix="/api/users_statistics", tags=["users_statistics"])
app.include_router(users_personal_data.router,       prefix="/api/users_personal_data", tags=["users_personal_data"])
app.include_router(users_book_review_genres.router,  prefix="/api/users_book_review_genres", tags=["users_book_review_genres"])
app.include_router(books_categories.router,          prefix="/api/books_categories", tags=["books_categories"])
app.include_router(users_book_review.router,         prefix="/api/users_book_review", tags=["users_book_review"])

app.include_router(auth.router, prefix="/api/auth", tags=["auth"])

===== D:\BSUIR\Diploma\OwlReads-project\server-OwlReads\app\__init__.py =====

